@startuml Watch Management System

' Abstract Product Interface
interface Product {
    +getName(): string
    +getPrice(): float
    +getDescription(): string
    +getStatus(): int
    +getImage(): string
    +getCategory(): string
    +getBrand(): string
    +getStock(): int
    +getModel(): string
    +getMovement(): string
}

' Concrete Product Classes
class MenWatch {
    -gender: string
    +getGender(): string
}

class WomenWatch {
    -gender: string
    +getGender(): string
}

class SmartWatch {
    -os: string
    -batteryLife: string
    -features: array
    +getOS(): string
    +getBatteryLife(): string
    +getFeatures(): array
}

class SportWatch {
    -waterResistance: string
    -sportFeatures: array
    -material: string
    +getWaterResistance(): string
    +getSportFeatures(): array
    +getMaterial(): string
}

' Abstract Factory Interface
interface ProductFactory {
    +createProduct(data: array): Product
}

' Concrete Factory Classes
class MenProductFactory {
    +createProduct(data: array): MenWatch
}

class WomenProductFactory {
    +createProduct(data: array): WomenWatch
}

class SmartProductFactory {
    +createProduct(data: array): SmartWatch
}

class SportProductFactory {
    +createProduct(data: array): SportWatch
}

' Controller
class ProductController {
    -productFactory: ProductFactory
    -menProductFactory: MenProductFactory
    -womenProductFactory: WomenProductFactory
    -smartProductFactory: SmartProductFactory
    -sportProductFactory: SportProductFactory
    
    ' Admin Methods
    +AuthLogin(): void
    +add_product(): View
    +all_product(): View
    +save_product(request: Request): Redirect
    +unactive_product(product_id: int): Redirect
    +active_product(product_id: int): Redirect
    +edit_product(product_id: int): View
    +update_product(request: Request, product_id: int): Redirect
    +delete_product(product_id: int): Redirect
    
    ' Product Creation Methods
    +createWatch(request: Request): Response
    +createMenWatch(request: Request): Response
    +createWomenWatch(request: Request): Response
    +createSmartWatch(request: Request): Response
    +createSportWatch(request: Request): Response
    
    ' Product Detail Methods
    +detail_product(product_id: int, request: Request): View
    
    ' Helper Methods
    -getCategoryId(categoryName: string): int
    -getBrandId(brandName: string): int
}

' Model Classes
class Product {
    +product_id: int
    +product_name: string
    +product_price: float
    +product_desc: string
    +product_content: string
    +product_status: int
    +product_image: string
    +category_id: int
    +brand_id: int
    +product_quantity: int
    +product_model: string
    +product_movement: string
    +product_keywords: string
}

class Category {
    +category_id: int
    +category_name: string
    +category_status: int
    +category_desc: string
}

class Brand {
    +brand_id: int
    +brand_name: string
    +brand_status: int
    +brand_desc: string
}

' Request Classes
class Request {
    +all(): array
    +validate(rules: array): array
    +file(name: string): UploadedFile
}

class UploadedFile {
    +getClientOriginalName(): string
    +move(path: string, filename: string): bool
}

' View Classes
class View {
    +with(key: string, value: mixed): View
}

' Response Classes
class Response {
    +json(data: array): Response
}

class Redirect {
    +to(path: string): Redirect
    +send(): void
}

' Relationships
Product <|.. MenWatch
Product <|.. WomenWatch
Product <|.. SmartWatch
Product <|.. SportWatch

ProductFactory <|.. MenProductFactory
ProductFactory <|.. WomenProductFactory
ProductFactory <|.. SmartProductFactory
ProductFactory <|.. SportProductFactory

ProductController --> ProductFactory
ProductController --> MenProductFactory
ProductController --> WomenProductFactory
ProductController --> SmartProductFactory
ProductController --> SportProductFactory

ProductController --> Product
ProductController --> Category
ProductController --> Brand
ProductController --> Request
ProductController --> View
ProductController --> Response
ProductController --> Redirect

Request --> UploadedFile

' Database Relationships
Product "1" -- "1" Category : belongs to
Product "1" -- "1" Brand : belongs to

@enduml 